#!/usr/bin/env ruby

require 'released'
require 'yaml'

if ARGV.size != 1
  $stderr.puts "usage: #{$0} [filename]"
  exit 1
end

stages = Released::PipelineReader.new(ARGV[0]).read
Released::Runner.new(stages).run
